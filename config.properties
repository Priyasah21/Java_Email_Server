// Original:
// private static final String SENDER_EMAIL = System.getenv("GMAIL_USER");
// private static final String SENDER_PASSWORD = System.getenv("GMAIL_APP_PASSWORD");

// New:
private static String SENDER_EMAIL;
private static String SENDER_PASSWORD;

// Inside main() method, add this loader BEFORE server creation:
public static void main(String[] args) throws IOException {
    loadConfiguration("config.properties"); // Call the new loader method
    
    if (SENDER_EMAIL == null || SENDER_PASSWORD == null) {
        System.err.println("Error: GMAIL_USER and GMAIL_APP_PASSWORD are required in the config file.");
        System.exit(1);
    }
    // ... rest of the main method
}

// Add this new method to your ContactFormServer class:
private static void loadConfiguration(String filename) {
    Properties props = new Properties();
    try (java.io.InputStream input = new java.io.FileInputStream(filename)) {
        props.load(input);
        SENDER_EMAIL = props.getProperty("GMAIL_USER");
        SENDER_PASSWORD = props.getProperty("GMAIL_APP_PASSWORD");
    } catch (IOException ex) {
        System.err.println("Warning: Could not load " + filename + ". Falling back to System Environment Variables.");
        SENDER_EMAIL = System.getenv("GMAIL_USER");
        SENDER_PASSWORD = System.getenv("GMAIL_APP_PASSWORD");
    }
}
